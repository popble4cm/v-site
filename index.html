<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hello from Popble!ğŸ½</title>

<style>
body{
    font-family: monospace;
    font-size:16px;
    text-align:center;
    padding-top:40px;
    color:#e17db3;
    background-color:#c6e2b2;
}

.container{
    max-width:600px;
    margin:0 auto;
    padding:0 16px;
}

img{
    max-width:100%;
    height:auto;
    opacity:0;
    transition:opacity 1.9s ease;
}
img.show{
    opacity:1;
}

button{
    margin-top:20px;
    padding:10px 20px;
    font-family: monospace;
    font-size:16px;
    cursor:pointer;
    background:#fff6f0;
    color:#e17db3;
    border:none;
    border-radius:6px;
}

/* cosplay button colors */
.gojo { background:#988fc5; color:#fff6f0; }
.hisoka { background:#e17db3; color:#fff6f0; }
.inosuke { background:#75ba99; color:#fff6f0; }

/* cursor blink */
.cursor{
    display:inline-block;
    width:10px;
    background:black;
    margin-left:3px;
    animation: blink 1s infinite;
}
@keyframes blink{
    0%,50%,100%{opacity:1;}
    25%,75%{opacity:0;}
}
</style>
</head>

<body>
<div class="container">

<!-- STEP 1 -->
<div id="step1">
    <h3>â‹†.Ëš Enter your name *+:ï½¡.</h3>
    <input type="text" id="username">
    <button onclick="startTyping()">Submit</button>
    <div id="output"></div>
</div>

<!-- STEP 2 -->
<div id="step2" style="display:none;">
    <h3>Who do you wanna be? â—(áµ”á—œáµ”)â—œ</h3>
    <button class="gojo" onclick="chooseCosplay('Gojo Paultoru','pic1.png')">Gojo Paultoru ğŸ¤ğŸ»âš«ï¸-âš«ï¸â€”</button><br>
    <button class="hisoka" onclick="chooseCosplay('Paulsoka Morou','pic2.png')">Paulsoka Morou ğŸƒğŸ’§â­ğŸ•·</button><br>
    <button class="inosuke" onclick="chooseCosplay('Paulnosuke Hashibira','pic3.png')">Paulnosuke Hashibira ğŸ—âš”ï¸ğŸ½</button>
</div>

<!-- STEP 3 -->
<div id="step3" style="display:none;">
    <img id="cosplayImage" width="200"><br>
    <div id="resultText"></div>
</div>

<!-- STEP 4 -->
<div id="giftStep" style="display:none;">
    <img id="giftBox" width="200"><br>
    <div id="giftMessage"></div>
    <div id="downloadArea"></div>
</div>

</div>

<script>
function startTyping(){
    const name = document.getElementById("username").value || "Guest";
    const text = "(Ë¶Ë†á—œË†Ëµ) Sawasdee kaaaaa " + name + " a.k.a. Nong Paul";
    const output = document.getElementById("output");

    output.innerHTML = '<span id="text"></span><span class="cursor"></span>';
    const span = document.getElementById("text");

    let i=0;
    function type(){
        if(i<text.length){
            span.innerHTML+=text.charAt(i);
            i++;
            setTimeout(type,50);
        }else{
            const btn=document.createElement("button");
            btn.innerHTML="Continue";
            btn.onclick=()=>{ step1.style.display="none"; step2.style.display="block"; };
            output.appendChild(document.createElement("br"));
            output.appendChild(btn);
        }
    }
    type();
}

function chooseCosplay(cosplay,img){
    step2.style.display="none";
    step3.style.display="block";

    cosplayImage.classList.remove("show");
    cosplayImage.src=img;
    setTimeout(()=>cosplayImage.classList.add("show"),50);

    const name=username.value || "Guest";
    const text='Today '+name+' becomes '+cosplay+' so Popble wants to give '+name+' a congratulations gift (Â¬`â€¸Â´Â¬)';

    resultText.innerHTML='<span id="type2"></span><span class="cursor"></span>';
    const span=document.getElementById("type2");

    let i=0;
    function type(){
        if(i<text.length){
            span.innerHTML+=text.charAt(i);
            i++;
            setTimeout(type,50);
        }else{
            const btn=document.createElement("button");
            btn.innerHTML="Claim gift ğŸ";
            btn.onclick=openGift;
            resultText.appendChild(document.createElement("br"));
            resultText.appendChild(btn);
        }
    }
    type();
}

function openGift(){
    step3.style.display="none";
    giftStep.style.display="block";

    giftBox.classList.remove("show");
    giftBox.src="pic4.png";
    giftBox.width = 500;
    setTimeout(()=>giftBox.classList.add("show"),50);

    const msg="Thank you for always talking with me even though you're sometimes jai rai and kuan teen to meeeğŸ˜’ You make me happy in ways you probably donâ€™t even notice. I hope this brings you a little happiness tooğŸ¥¹ Here's your Thai Keroppi keycaps design naaa (..â—œá´—â—..)";
    giftMessage.innerHTML='<span id="type3"></span><span class="cursor"></span>';
    const span=document.getElementById("type3");

    let j=0;
    function typeMsg(){
        if(j<msg.length){
            span.innerHTML+=msg.charAt(j);
            j++;
            setTimeout(typeMsg,40);
        }else{
            downloadArea.innerHTML =
            '<br><a href="https://drive.google.com/drive/folders/1B9U0-MGcPePxTrrL0HN2POSZn7ZFJH47?usp=sharing" target="_blank">' +
            '<button>Downloadâœ¨</button></a>';
        }
    }
    typeMsg();
}
</script>

</body>
</html>
